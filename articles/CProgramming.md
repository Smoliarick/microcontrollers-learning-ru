<h1>Шпаргалка по C</h1>

<h1>Содержание</h1>

- [Установка компилятора для C](#установка-компилятора-для-c)
- [Hello, World и процесс запуска программы](#hello-world-и-процесс-запуска-программы)
- [Переменные](#переменные)
  - [Имена переменных](#имена-переменных)
  - [Типы данных и их размеры](#типы-данных-и-их-размеры)
    - [Суффиксы для типов данных](#суффиксы-для-типов-данных)
    - [Спецификаторы для вывода чисел в консоль в функции `printf`](#спецификаторы-для-вывода-чисел-в-консоль-в-функции-printf)
    - [Представление числа в различных системах](#представление-числа-в-различных-системах)
    - [Определение размера типов данных](#определение-размера-типов-данных)
    - [Управляющие последовательности](#управляющие-последовательности)
  - [Константы](#константы)
    - [Строковые константы](#строковые-константы)
    - [Константы перечислимого типа](#константы-перечислимого-типа)
  - [Объявления](#объявления)
    - [Модификатор `const`](#модификатор-const)
  - [Операции](#операции)
    - [Арифметические операции](#арифметические-операции)
    - [Операции отношения и логические операции](#операции-отношения-и-логические-операции)


# Установка компилятора для C

Для установки компилятора для C на систему Windows можно воспользоваться [MSYS2](https://www.msys2.org/).

# Hello, World и процесс запуска программы

Файл с программой [`hello_world.c`](../src/c_programming/hello_world.c):

```c
#include <stdio.h>

int main()
{
  printf("hello, world");
  return 0;
}
```

Компилируем программу с помощью следующей команды: `cc hello_world.c`

Если во время компиляции не было ошибок, то после этого в системе Windows создается файл с расширением `.exe` - `a.exe`.

Далее запускаем этот файл: `.\a.exe`.

В консоли мы должны увидеть следующий текст:

```
hello, world
```

# Переменные
## Имена переменных

- Переменные могут состоять из букв и цифр
- Начинаться имя переменной может только с буквы
- Знак подчеркивания `_` считается буквой и часто используется для улучшения читаемости длинных имен
- Не следует начинать имя переменной с подчеркивания `_`, так как такие имена часто используют библиотеки
- Буквы в верхнем и нижнем регистре отличаются (`x` и `X` - это разные имена)
- Традиционно имена переменных записывают строчными буквами, а имена констант - прописными
- Ключевые слова зарезервированы и не могут быть использованы как имена переменных (например, `if`, `else` и т.д.)
- Разумно выбирать имена переменных так, чтобы они описывали назначение самих переменных
- Есть тенденция использовать короткие имена для локальных переменных, счетчиков, циклов и т.д. и имена подлиннее для глобальных переменных

## Типы данных и их размеры

| Тип данных | Описание                                                 | Занимаемая память                                                                   | Диапазон значений (зависит от системы)                                       |
| ---------- | -------------------------------------------------------- | ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| `char`     | Содержит один символ из локального набора                | 8 бит                                                                               | от -128 до 127                                                               |
| `int`      | Целое число                                              | Обычно имеет типовой размер для целых чисел в данной системе, обычно 16 или 32 бита | от –32768 до 32767 (16 бит) или от −2.147.483.648 до 2.147.483.647 (32 бита) |
| `float`    | Вещественное число одинарной точности с плавающей точкой | 32 бита                                                                             | от +/- 3.4E-38 до 3.4E+38                                                    |
| `double`   | Вещественное число двойной точности с плавающей точкой   | 64 бита                                                                             | от +/- 1.7E-308 до 1.7E+308                                                  |
| `void`     | Тип без значения                                         | -                                                                                   | -                                                                            |

**Модификаторы** `short` и `long` применяются только к целым числам (введены для разграничения длины двух типо целых чисел для практических потребностей):

| Тип данных + Модификатор | Псевдоним                                                         | Занимаемая память | Диапазон значений (зависит от системы)                      |
| ------------------------ | ----------------------------------------------------------------- | ----------------- | ----------------------------------------------------------- |
| `long`                   | `long int` или `signed long int` или `signed long`                | 32 бита           | от -2.147.483.648 до 2.147.483.647                          |
| `short`                  | `short int` или `signed short int` или `signed short`             | 16 бит            | от –32768 до 32767                                          |
| `long long`              | `long long int` или `signed long long int` или `signed long long` | 64 бита           | от -9.223.372.036.854.775.807 до +9.223.372.036.854.775.807 |

**Модификаторы** `signed` ("со знаком") или `unsigned` ("без знака") могут применяться к типу `char` или целому числу. Числа типа `unsigned` всегда неотрицательны, а длина диапазона их значений равна степени двойки 2^n, где n - количество битов в машинном представлении:

| Тип данных + Модификатор | Псевдоним                                                     | Занимаемая память  | Диапазон значений (зависит от системы)                                       |
| ------------------------ | ------------------------------------------------------------- | ------------------ | ---------------------------------------------------------------------------- |
| `unsigned char`          | -                                                             | 8 бит              | от 0 до 255                                                                  |
| `signed char`            | `char`                                                        | 8 бит              | от -128 до 127                                                               |
| `unsigned int`           | `unsigned`                                                    | 16 бит или 32 бита | от 0 до 65535 (для 16 бит), либо от 0 до 4.294.967.295 (для 32 бит)          |
| `signed int`             | `signed` или `int`                                            | 16 бит или 32 бита | от –32768 до 32767 (16 бит) или от −2.147.483.648 до 2.147.483.647 (32 бита) |
| `unsigned long`          | `unsigned long int`                                           | 32 бита            | от 0 до 4.294.967.295                                                        |
| `signed long`            | `long` или `long int` или `signed long int` или `signed long` | 32 бита            | от -2.147.483.648 до 2.147.483.647                                           |
| `unsigned long long`     | `unsigned long long int`                                      | 64 бита            | от 0 до 18.446.744.073.709.551.615                                           |
| `signed long long`       | `long long int` или `signed long long int` или `long long`    | 64 бита            | от -9.223.372.036.854.775.807 до +9.223.372.036.854.775.807                  |
| `unsigned short`         | `unsigned short int`                                          | 16 бит             | от 0 до 65535                                                                |
| `signed short`           | `short int` или `signed short int` или `short`                | 16 бит             | от –32768 до 32767                                                           |

**Модификатор** `long` для типа `double` - обозначает число с плавающей точкой повышенной точности:

| Тип данных + Модификатор | Занимаемая память | Диапазон значений (зависит от системы) |
| ------------------------ | ----------------- | -------------------------------------- |
| `long double`            | -                 | 80 бит                                 | от +/- 3.4E-4932 до 1.1E+4932 |

### Суффиксы для типов данных

Любое десятичное число рассматривается по умолчанию как значение типов `int`/`long int`/`long long int` (в зависимости от размера) и при присвоении переменным другим типов будет выполняться преобразование. Чтобы указать, что число явным образом представляет определенный тип, к числу добавляется определенный суффикс:

| Тип                                                            | Суффикс         | Например              |
| -------------------------------------------------------------- | --------------- | --------------------- |
| `unsigned int`, `unsigned long int` и `unsigned long long int` | `u` или `U`     | `123u` или `123U`     |
| `unsigned long int` и `unsigned long long int`                 | `ul` или `UL`   | `123ul` или `123UL`   |
| `long long int`                                                | `ll` или `LL`   | `123ll` или `123LL`   |
| `unsigned long long int`                                       | `ull` или `ULL` | `123ull` или `123ULL` |
| `float`                                                        | `f`             | `3.14f`               |
| `long double`                                                  | `l`             | `3.14l`               |
| `double`                                                       | `f` или `lf`    | `3.14f` или `3.14lf`  |

### Спецификаторы для вывода чисел в консоль в функции `printf`

> Переменная `num` в примере соответствует типу из колонки 1.

| Тип                                                                               | Спецификатор                          | Пример                 |
| --------------------------------------------------------------------------------- | ------------------------------------- | ---------------------- |
| `char`                                                                            | `%d` (числовое представление символа) | `printf("%d", num);`   |
| `char`                                                                            | `%c` (вывод символа)                  | `printf("%c", num);`   |
| `unsigned short` или `unsigned short int`                                         | `%hu`                                 | `printf("%hu", num);`  |
| `short` или `short int` или `signed short` или `signed short int` или `int`       | `%d`                                  | `printf("%d", num);`   |
| `long` или `long int` или `signed long` или `signed long int`                     | `%ld`                                 | `printf("%ld", num);`  |
| `unsigned long` или `unsigned long int`                                           | `%lu`                                 | `printf("%lu", num);`  |
| `long long` или `long long int` или `signed long long` или `signed long long int` | `%lld`                                | `printf("%lld", num);` |
| `unsigned long long` или `unsigned long long int`                                 | `%llu`                                | `printf("%llu", num);` |
| `double` или `float`                                                              | `%f`                                  | `printf("%f", num);`   |
| `long double`                                                                     | `%Lf`                                 | `printf("%Lf", num);`  |

### Представление числа в различных системах

| Символы      | Описание                                                                       | Пример                                 |
| ------------ | ------------------------------------------------------------------------------ | -------------------------------------- |
| `0b`         | Двоичное представление числа (набор из 0 и 1)                                  | `0b1011` - число 11 в 10-ичной системе |
| `0`          | Восьмеричная система счисления (набор из цифр от 0 до 7)                       | `013` - число 11                       |
| -            | Десятичная система счисления (набор из цифр от 0 до 9)                         | `11` - число 11                        |
| `0x`или `0X` | Шестнадцатеричная система счисления (набор из цифр от 0 до 9 и бква от A до F) | `0xB` или `0XB` - число 11             |

### Определение размера типов данных

```c
#include <stdio.h>

int main()
{
  int number = 2;
  printf("sizeof(number) = %d \n", sizeof(number)); // Вывод: sizeof(number) = 4 (размер в байтах)
  return 0;
}
```

### Управляющие последовательности

| Управляющая последовательность | Описание                  |
| ------------------------------ | ------------------------- |
| `\a`                           | Подача звукового сигнала  |
| `\b`                           | Возврат назад и затирание |
| `\f`                           | Прогон страницы           |
| `\n`                           | Конец строки              |
| `\r`                           | Возврат каретки           |
| `\t`                           | Горизонтальная табуляция  |
| `\v`                           | Вертикальная табуляция    |
| `\\`                           | Обратная косая черта      |
| `\?`                           | Вопросительный знак       |
| `\'`                           | Одинарная кавычка         |
| `\"`                           | Двойная кавычка           |

Представление символов с помощью управляющей последовательности:

| Представление | Описание                                                 | Пример                                  |
| ------------- | -------------------------------------------------------- | --------------------------------------- |
| `\ooo`        | Представление символа с помощью восмеричного числа       | `\013` - вертикальная табуляция в ASCII |
| `\xhh`        | Представление символа с помощью шестнадцатеричного числа | `\xb` - вертикальная табуляция в ASCII  |

## Константы

**Константа** — это значение, которое впоследствии в процессе программы не может быть изменено.

| Константа                                                             | Описание                                                                                                | Примеры                                                       |
| --------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| **Целочисленная константы**                                           | Константы, которые имеют целочисленный тип                                                              | `123`, `123L`, `0XFUL`                                        |
| **Символьная константы**                                              | Целое число в форме одного символа в кавычках                                                           | `'x'`, `'X'`, `'\013'`, `'\xb'`                               |
| **Вещественная константы**                                            | Константы, которые имеют вещественный тип                                                               | `123.321`, `1.2345E-20l`                                      |
| **Константное выражение**                                             | Выражение, содержащее только константы (могут вычисляться в ходе компиляции, а не выполнения программы) | `#define MAXLINE 1000`                                        |
| **Строковая константа**, **строковый литерал** или просто **литерал** | Последовательность из нескольких (в частном случае ни одного) символов, заключенных в двойные кавычки   | `"I am a string"`, `""`                                       |
| **Константы перечислимого типа**                                      | Перечислимы тип определяется списком целочисленных символических констант                               | `enum boolean { NO, YES }` (первая константа - 0, вторая - 1) |

### Строковые константы

Кавычки не являются часть строки, а только ограничивают ее. Все управляющие последовательность, которые можно включить в символьные константы, допускаются в строковых, например, `\"`. Строковые константы можно сцеплять (выполнять конкатенацию) в процессе компиляции. Следующие 2 строки являются эквивалентными:

```
"hello, " "world"
"hello, world"
```

Этой возможность можно пользоваться, когда нужно распространить длинные строковые константы на несколько строк исходного кода.

Во внутреннем представлении строки в конце присутствует нулевой символ `'\0'`, так что физический объем памяти для хранения строки превышает количество символов, записанных между кавычками, на единицу.

Стандартная библиотечная `<string.h>` содержит функцию `strlen(s)`, которая возвращает количество символов в строке, переданной ей в качестве аргумента, не считая завершающего `'\0'`. 

### Константы перечислимого типа

**Перечисления** - это удобный способ ассоциировать значения констант с символическими именами с тем преимущество перед `#define`, что значения могут генерироваться автоматически.

```c
enum escapes { BELL = '\a', BACKSPACE = '\b', TAB = '\t' };
enum months { JAN = 1, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC }; // FEB = 2, MAR = 3, ...
```

## Объявления

В **объявлении** указываются тип и список из одной или нескольких переменных:

```c
int lower, upper, step;
char c, line[1000];
int stop;
int go;
```

Переменную можно **инициализировать** прямо в объявлениях (т.е. присвоить значение во время создания переменной):

```c
#define MAXLINE 1000

// инициализация в объявлениях
char esc = '\\';
int i = 0;
int limit = MAXLINE + 1;
float eps = 1.0e-05;
```

### Модификатор `const`

К объявлению любой переменной можно добавить модификатор `const`, чтобы значение этой переменной впоследствии не менялось. В случае массива этот модификатор запрещает изменение любого из элементов.

```c
const double e = 2.718;
const char msg[] = "warning: ";
```

Декларация `const` может употребляться с аргументами-массивами, указывая тем самым, что функция не изменяет передавайемый ей массив:

```c
int strlen(const char[]);
```

Если предпринимается попытка изменить переменную, объявленную с модификатором `const`, ее результат будет зависеть от реализации языка.

## Операции
### Арифметические операции

| Операция | Описание                                                                               | Пример               |
| -------- | -------------------------------------------------------------------------------------- | -------------------- |
| `+`      | Сложение                                                                               | `4 + 5`              |
| `-`      | Вычитание                                                                              | `4 - 5`              |
| `*`      | Умножение                                                                              | `4 * 5`              |
| `/`      | Целочисленное деление (оба операнда - целые числа, остаток от деления отбрасывается)   | `9 / 4`              |
| `/`      | Деление (оба (или один) операнда - вещественные числа, результат - вещественное число) | `9.0 / 4`, `9 / 4.0` |
| `%`      | Остаток от деления (только для целых чисел)                                            | `9 % 4`              |

### Операции отношения и логические операции

**Операции отношения** (тип операндов должен быть одинаковым):

|Операция|Описание|Пример|
|---|---|---|
|`>`|Больше (вернет 1, если левый операнд больше правого, и 0 в обратном случае)|`4 > 5`, `10 > 2|
|`>=`|Больше или равно (вернет 1, если левый операнд больше или равен правому, и 0 в обратном случае)|`4 >= 4`, `10 >= 2`|
|`<`|Меньше (вернет 1, если левый операнд меньше правого, и 0 в обратном случае)|`4 < 5`, `10 < 2`|
|`<=`|Меньше или равно (вернет 1, если левый операнд меньше или равен правому, и 0 в обратном случае)|`4 <= 5`, `10 <= 2`|
|`==`|Равенство (вернет 1, если оба операнда равны, и 0 в обратном случае)|`4 == 5`, `4 == 4`|
|`!=`|Неравенство (вернет 1, если оба операнда не равны, и 0 в обратном случае)|`4 != 5`, `4 != 4`|

**Логические операции**:

|Операция|Описание|Пример|
|---|---|---|
|`&&`|Операция `И` (вернет 1, если оба операнда равны 1, и 0 в обратном случае)|`4 == 5 && 2 == 1`|
|`\|\|`|Операция `ИЛИ` (вернет 1, если хотя бы один операнд равны 1, и 0 в обратном случае)|`4 == 4 \|\| 2 == 4`|
|`!`|Операция `НЕ` (вернет значение, обратное операнду: если было 1, то станет 0, и наоборот)|`!(4 == 4)`|

Пример использования (ввод символов из консоли в массив символов):

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
  int i, lim = 100;
  char c, s[lim];
  for (i = 0; i < lim - 1 && (c = getchar()) != '\n' && c != EOF; ++i) {
    s[i] = c;
  }
  return 0;
}
```